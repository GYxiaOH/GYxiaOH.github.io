<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />


  <script>
  (function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/0f81ff2f.js","daovoice")
  daovoice('init', {
      app_id: "db8b42fc"
    });
  daovoice('update');
  </script>
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT, 人世不平一剑消" />










<meta name="description" content="人世不平一剑消">
<meta name="keywords" content="blog">
<meta property="og:type" content="website">
<meta property="og:title" content="小 君">
<meta property="og:url" content="https://www.gyxiaoh.com/index.html">
<meta property="og:site_name" content="小 君">
<meta property="og:description" content="人世不平一剑消">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小 君">
<meta name="twitter:description" content="人世不平一剑消">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://www.gyxiaoh.com/"/>





  <title>小 君</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?8ad16d364f0235b40e33f9ac13ce6d97";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">小 君</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">One Day I'll Fly Away<br>leave all this to yesterday</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.gyxiaoh.com/2018/04/22/pycharm远程调试代码（tensorflow）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="GYxiaOH">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小 君">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/22/pycharm远程调试代码（tensorflow）/" itemprop="url">pycharm远程调试代码（tensorflow）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-22T22:55:25+08:00">
                2018-04-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2018/04/22/pycharm远程调试代码（tensorflow）/" class="leancloud_visitors" data-flag-title="pycharm远程调试代码（tensorflow）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="pycharm远程调试代码（tensorflow）"><a href="#pycharm远程调试代码（tensorflow）" class="headerlink" title="pycharm远程调试代码（tensorflow）"></a>pycharm远程调试代码（tensorflow）</h1><p>　　以前都是本地调试好代码然后上传服务器运行的。但是最近感觉太麻烦了，而且总想留着本机去干其他的事情，于是尝试使用pycharm远程连接服务器并用服务器的环境去运行代码。按照网络上的教程基本完成，但是有几个小坑网上记录的不是很清楚，这里记录下。<br>  　　本文主要参考<a href="https://www.cnblogs.com/xiongmao-cpp/p/7856596.html" target="_blank" rel="noopener">PyCharm 配置远程python解释器和在本地修改服务器代码</a>。遇到的坑如下：  </p>
<ol>
<li>配置Deployment的Mapping的Deployment path on server时，一定要配置的是自己的工作目录，如果用默认的根目录的话你无法down你的服务器上的代码，会提示没有这个文件或者目录</li>
<li>配置Python解释器的时候，不知道是不是版本的原因，我是2018最新版本，是没有Add remote 这个选项的，需要用Add按钮，然后在ssh interpreter里选择服务器的配置。</li>
<li>在本地运行的时候你需要配置一下服务器的环境变量，开始我很懵逼。。。。。后来发现就是正常的配置位置就好。在以下两个位置正常配置（和你服务器配置的路径一样就可以，比如服务器是/usr/local/cuda/lib64,那么你这里配置也是一样是/usr/local/cuda/lib64）<blockquote>
<p>在Settings -&gt; Build, Execution, Deployment -&gt; Console -&gt; Python Console 下最上面可设置环境变量。<br>任务栏顶部的 Run -&gt; Edit Configurations 里面有个 Environment Variables  </p>
</blockquote>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.gyxiaoh.com/2018/04/19/从caffe到tensorflow-vggs网络/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="GYxiaOH">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小 君">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/19/从caffe到tensorflow-vggs网络/" itemprop="url">从caffe到tensorflow-vggs网络</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-19T16:56:00+08:00">
                2018-04-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/深度学习/" itemprop="url" rel="index">
                    <span itemprop="name">深度学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/04/19/从caffe到tensorflow-vggs网络/" class="leancloud_visitors" data-flag-title="从caffe到tensorflow-vggs网络">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="从caffe到tensorflow-vggs网络"><a href="#从caffe到tensorflow-vggs网络" class="headerlink" title="从caffe到tensorflow-vggs网络"></a>从caffe到tensorflow-vggs网络</h1><p>　　本文所有网络结构已放进本人github <a href="https://github.com/GYxiaOH/vggs_tf" target="_blank" rel="noopener">vggs_tf</a>,再次惯例感谢<a href="https://kratzert.github.io/2017/02/24/finetuning-alexnet-with-tensorflow.html" target="_blank" rel="noopener"></a>大佬，本网络基本都是按照他的博客和代码一步一步搭建修改完成。<br>　　如果你和我一样是从caffe转向tensorflow，或者之前有一定的深度学习基础，那么我觉得你一步一步搭建好本文介绍的网络后基本就对tf的套路了解了，剩下的就是不断看新的网络实现，了解一些奇怪的API了。<br> 　　其实记录本文的主要目的是因为从caffe转到tensorflow后，第一，你不知道如何下手，第二，有时候你觉得你的网络结构，相关参数用的都是一模一样，但是效果就是比caffe差了不少。因此本文就是记录笔者在这些地方踩的坑。废话不多说，我们开始。  </p>
<h2 id="网络结构"><a href="#网络结构" class="headerlink" title="网络结构"></a>网络结构</h2><p>　　首先简单介绍下整个网络搭建比较重要的地方。<br>　　第一个就是vggs里面的内容，其中主要就是搭建网络框架，并且把读取参数的函数放了进去(caffemodel)，和caffe一样，tf搭建网路也很简答，就是create中的一堆conv=pool什么的，之所以每个部分都用了自己封装的函数是为了读取caffe的预训练模型更方便，tf里用layers建立的层通常weight的参数名字是”keras”，而caffe是”weights”。<br>　　第二个是finetune。它就是我们主要训练和测试的函数，其主要功能就是读取vggs里面的最后一层的输出结果，放入一个loss函数，在建立一个optimizer去优化整个网络，用一堆for循环跑N个epoch后输出结果。<br>　　第三个是datagenerator。这个感觉就可能是比较难的一块，因为caffe里基本就是转化为lmdb完事了，其他一些设定都比较简单，而转向tf第一个比较懵逼的就是如何输入数据，理论上讲tf输入数据有三种方法，这里用了比较新的dataset api，其实也比较简单，主要是不熟，建议和<a href="https://blog.csdn.net/kwame211/article/details/78579035" target="_blank" rel="noopener">TensorFlow全新的数据读取方式：Dataset API入门教程</a>对照着看，很快便能弄懂。</p>
<h2 id="为什么我的准确率不高"><a href="#为什么我的准确率不高" class="headerlink" title="为什么我的准确率不高"></a>为什么我的准确率不高</h2><p>　　当我按照原作者的Alex Net 该成我VGGS后，一开始还很不错，训练测试都很正常，可是我对网络进一步修改的时候，就发现网络的准确率很差，和caffe训练的有天壤之别。明明感觉网络结构和参数设置都差不多。。。。经过了快一个星期我才基本把所有原因找道，在这里记录下来，希望有缘人能不要做这些浪费时间的事情。  </p>
<h3 id="Pretrain-weights"><a href="#Pretrain-weights" class="headerlink" title="Pretrain weights"></a>Pretrain weights</h3><p>　　深度学习的参数初始化是十分重要的，所谓站在巨人的肩膀上，所以你没有在imagenet上的训练参数你很难直接把自己的数据集训练好。原来作者的代码这一部分就很奇怪 ，他用了一个skip_layer，这里面的层参数全部是随机初始化重新训练，并且之前继承了参数的层他把trainable设置成了False，这就会让训练的时候无法继承全部的参数，继承的参数又无法训练，虽然有文章表示VGG的前几层学习的特征比较通用，可以固定，当通过我的实际测试还是一起训练会得到比较好的结果。因此在我的VGG里面我改成了skiplayer和trainlayer，分别代表我需要重新初始化的层和我需要训练的层,这一步后大概争取率翻了一倍。</p>
<h3 id="参数初始化"><a href="#参数初始化" class="headerlink" title="参数初始化"></a>参数初始化</h3><p>　　tf里默认的好像是weight是uniform初始化，bia是0值，bia没什么问题，但是uniform初始化的效果目前来看是比较差的，换成normal（stdev=0.01）后大概准确率直接上升了百分之三。另外truncated和普通的normal好像有时前者好，有时后者好，可能要自己调试。  </p>
<h3 id="Optimizer"><a href="#Optimizer" class="headerlink" title="Optimizer"></a>Optimizer</h3><p>　　虽然caffe里说它的优化法是SGD，但实际上它是带momentum的。所以对应的是tf.train.MomentumOptimizer不过实测这个影响不大，可能就1%左右，而且在小规模数据的时候它的表现明显不如SGD。  </p>
<h3 id="L2-regular"><a href="#L2-regular" class="headerlink" title="L2 regular"></a>L2 regular</h3><p>　　一开始用tf训练的时候就感觉，我去，损失这么这么低，但准确率还是不高。其实这个很容易想到就是过拟合，没加正则项。tf里加正则项语句如下:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">l2regular = tf.contrib.layers.l2_regularizer(<span class="number">0.0005</span>)</span><br><span class="line">regular = tf.contrib.layers.apply_regularization(l2regular, weights_list=weight_list)</span><br><span class="line">regularization_loss = tf.reduce_sum(tf.get_collection(tf.GraphKeys.REGULARIZATION_LOSSES))</span><br></pre></td></tr></table></figure></p>
<p>　　把这个loss加到总loss里就好</p>
<h3 id="Crop"><a href="#Crop" class="headerlink" title="Crop"></a>Crop</h3><p>　　这个是真的隐蔽，在最后我一行一行的对比，实在是找不到哪里和caffe网络的不同了，最后才想到有可能是数据增强的问题……这里我没做镜像，只是像caffe里一样，在训练的时候回随机剪裁一个对应输入大小的图像，而在测试的时候是裁剪中心图像。具体的可以看我datagenerator里的内容，主要是用了<code>tf.random_crop(img_resized,[self.resize,self.resize,3])</code>和<code>img_resized = tf.image.resize_image_with_crop_or_pad(img_resized,self.resize,self.resize)</code>两个函数。</p>
<h3 id="batch-norm"><a href="#batch-norm" class="headerlink" title="batch norm"></a>batch norm</h3><p>　　这个其实和我的任务比较相关，因为我最后会跑出多通道的ｆｃ层特征，如果不做归一化就把它们concat在一起，效果会比较差，因此在前面需要bn一下。</p>
<h3 id="小的问题"><a href="#小的问题" class="headerlink" title="小的问题"></a>小的问题</h3><p>　　加了句data.repeat(),避免最后一个batch过小出错。<br>　　注意下dataset的shuffle函数，它只会打乱batch的顺序，因此batch里面的样本顺序是不变的，千万注意，否则你的准确率可能会非常的低。</p>
<p>　　以上，其实这里主要是解决tf和caffe不同而提升的一些准确率，下一篇将通过kaggle里面的入门泰坦尼克来介绍下我的“第一次”实践经历。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.gyxiaoh.com/2018/04/18/经典机器算法-决策树，随机森林，GDBT，XGDBT/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="GYxiaOH">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小 君">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/18/经典机器算法-决策树，随机森林，GDBT，XGDBT/" itemprop="url">经典机器算法-决策树，随机森林，GDBT，XGDBT</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-18T14:12:00+08:00">
                2018-04-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/机器学习/" itemprop="url" rel="index">
                    <span itemprop="name">机器学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/04/18/经典机器算法-决策树，随机森林，GDBT，XGDBT/" class="leancloud_visitors" data-flag-title="经典机器算法-决策树，随机森林，GDBT，XGDBT">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　本篇文章的主要记录可以看懂得一个博客流程。从决策树到XGDBT可以看成是逐步进化的过程，先是最简单的决策树CART，然后采用集成学习的思想，分别用bagging和boost得到了随机森林和GDBT算法。而XGDBT可以看成是GDBT的一个更好的实现，在寻找更好的函数下降方向时考虑到了二阶导数，使收敛加快。以下是博客介绍：</p>
<ol>
<li><p>决策树<br>　　<a href="https://blog.csdn.net/shine19930820/article/details/62233166#cart生成算法" target="_blank" rel="noopener">cart生成算法</a></p>
</li>
<li><p>随机森林<br>　　这个其实很简单，随便看看林轩田的机器学习技法就好<a href="https://blog.csdn.net/red_stone1/article/details/76053360" target="_blank" rel="noopener">台湾大学林轩田机器学习技法课程学习笔记10 – Random Forest</a>  </p>
</li>
<li>GDBT<br>　<a href="https://blog.csdn.net/shine19930820/article/details/65633436" target="_blank" rel="noopener">『机器学习笔记 』GBDT原理-Gradient Boosting Decision Tree</a><br>　<a href="https://blog.csdn.net/red_stone1/article/details/76219948" target="_blank" rel="noopener"> 台湾大学林轩田机器学习技法课程学习笔记11 – Gradient Boosted Decision Tree</a></li>
<li>XGDBT<br>　<a href="https://blog.csdn.net/shine19930820/article/details/69500242" target="_blank" rel="noopener">https://blog.csdn.net/shine19930820/article/details/69500242</a></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.gyxiaoh.com/2018/04/13/排序算法复习-Python实现/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="GYxiaOH">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小 君">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/13/排序算法复习-Python实现/" itemprop="url">排序算法复习-Python实现</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-13T00:10:04+08:00">
                2018-04-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2018/04/13/排序算法复习-Python实现/" class="leancloud_visitors" data-flag-title="排序算法复习-Python实现">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="排序算法复习-Python实现"><a href="#排序算法复习-Python实现" class="headerlink" title="排序算法复习-Python实现"></a>排序算法复习-Python实现</h1><p>　　为面试笔试做准备  </p>
<h2 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h2><p>　　<code>稳定，时间复杂度 O(nlog n)</code><br>　　比较重要的一种排序，采用了分治法的思想，即不断的将原数组一分为二，直至为一的时候返回。之后再从下往上合并左右数组，合并的方法就是类似选择排序，比较左右数组数值大小，将小（大）的值依次插入，这样合并后的数组有序。就这样递归完成后得到有序数组。可以用来解决逆序对问题。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys  </span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge</span><span class="params">(nums, first, middle, last)</span>:</span>  </span><br><span class="line">    lnums = nums[first:middle+<span class="number">1</span>]</span><br><span class="line">    rnums = nums[middle+<span class="number">1</span>:last+<span class="number">1</span>]</span><br><span class="line">    <span class="comment">#避免越界</span></span><br><span class="line">    lnums.append(sys.maxint)  </span><br><span class="line">    rnums.append(sys.maxint)  </span><br><span class="line">    lindex = <span class="number">0</span></span><br><span class="line">    rindex = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(first,last+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> lnums[lindex]&gt;rnums[rindex]:</span><br><span class="line">            nums[i] = rnums[rindex]</span><br><span class="line">            rindex += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            nums[i] = lnums[lindex]</span><br><span class="line">            lindex += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_sort</span><span class="params">(nums, first, last)</span>:</span>  </span><br><span class="line">    <span class="keyword">if</span> first&lt;last:</span><br><span class="line">        middle = (last+first)/<span class="number">2</span></span><br><span class="line">        merge_sort(nums,first,middle)</span><br><span class="line">        merge_sort(nums,middle+<span class="number">1</span>,last)</span><br><span class="line">        merge(nums,first,middle,last)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> nums[first]</span><br><span class="line">   </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:  </span><br><span class="line">    nums = [<span class="number">10</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">-1</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">3</span>]  </span><br><span class="line">    <span class="keyword">print</span> <span class="string">'nums is:'</span>, nums  </span><br><span class="line">    merge_sort(nums, <span class="number">0</span>, <span class="number">7</span>)  </span><br><span class="line">    <span class="keyword">print</span> <span class="string">'merge sort:'</span>, nums</span><br></pre></td></tr></table></figure></p>
<h2 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序　"></a>选择排序　</h2><p>　　 <code>不稳定，时间复杂度 O(n^2)</code><br> 　　选择排序(Selection sort)是一种简单直观的排序算法。它的工作原理如下。首先在未排序序列中找到最小（大）元素，存放到排序序列的起始位置，然后，再从剩余未排序元素中继续寻找最小（大）元素，然后放到已排序序列的末尾。以此类推，直到所有元素均排序完毕。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys  </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">select_sort</span><span class="params">(a)</span>:</span>  </span><br><span class="line">    <span class="string">''''' 选择排序  </span></span><br><span class="line"><span class="string">    每一趟从待排序的数据元素中选出最小（或最大）的一个元素， </span></span><br><span class="line"><span class="string">    顺序放在已排好序的数列的最后，直到全部待排序的数据元素排完。 </span></span><br><span class="line"><span class="string">    选择排序是不稳定的排序方法。 </span></span><br><span class="line"><span class="string">    '''</span>  </span><br><span class="line">    num = len(a)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(num):</span><br><span class="line">        minin = i </span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> range(minin+<span class="number">1</span>,num):</span><br><span class="line">            <span class="keyword">if</span> a[x]&lt;a[minin]:</span><br><span class="line">                minin = x</span><br><span class="line">        a[i],a[minin] = a[minin],a[i]</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:  </span><br><span class="line">    A = [<span class="number">10</span>, <span class="number">-3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>]    </span><br><span class="line">    <span class="keyword">print</span> <span class="string">'Before sort:'</span>,A    </span><br><span class="line">    select_sort(A)    </span><br><span class="line">    <span class="keyword">print</span> <span class="string">'After sort:'</span>,A</span><br></pre></td></tr></table></figure></p>
<h2 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h2><p>　　 <code>不稳定，最坏时间复杂度 O(n^2)，平均复杂度是O（nlogn)</code><br> 　　希尔排序，也称递减增量排序算法,希尔排序是非稳定排序算法。该方法又称缩小增量排序，因DL．Shell于1959年提出而得名。<br>   简单的说就是将数组通过增量分成若干个小数组，在小数组内排序，然后逐步递减增量直至增量为1，得到有序数组。具体可以参考<a href="https://www.cnblogs.com/chengxiao/p/6104371.html" target="_blank" rel="noopener">图解排序算法(二)之希尔排序</a><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shell_sort</span><span class="params">(a)</span>:</span>  </span><br><span class="line">    <span class="string">''''' shell排序  </span></span><br><span class="line"><span class="string">    '''</span>  </span><br><span class="line">    a_len=len(a)  </span><br><span class="line">    gap=a_len/<span class="number">2</span><span class="comment">#增量  </span></span><br><span class="line">    <span class="keyword">while</span> gap&gt;<span class="number">0</span>:  </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(a_len):<span class="comment">#对同一个组进行选择排序,从左往右找最小值</span></span><br><span class="line">            m=i  </span><br><span class="line">            j=i+gap</span><br><span class="line">            <span class="keyword">while</span> j&lt;a_len:  </span><br><span class="line">                <span class="keyword">if</span> a[j]&lt;a[m]:  </span><br><span class="line">                    m=j  </span><br><span class="line">                j+=gap<span class="comment">#j增加gap  </span></span><br><span class="line">            <span class="keyword">if</span> m!=i:  </span><br><span class="line">                a[m],a[i]=a[i],a[m]</span><br><span class="line"><span class="comment">#        print a</span></span><br><span class="line">        gap/=<span class="number">2</span>  </span><br><span class="line">   </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:  </span><br><span class="line">    A = [<span class="number">10</span>, <span class="number">-3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>,<span class="number">5</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>]    </span><br><span class="line">    <span class="keyword">print</span> <span class="string">'Before sort:'</span>,A    </span><br><span class="line">    shell_sort(A)    </span><br><span class="line">    <span class="keyword">print</span> <span class="string">'After sort:'</span>,A</span><br></pre></td></tr></table></figure></p>
<h2 id="堆排序"><a href="#堆排序" class="headerlink" title="堆排序"></a>堆排序</h2><p>　<code>不稳定，时间复杂度 O(nlog n)</code><br> 　　比较重点，比前几个复杂点，不过想通了也很简单，感觉就是一个幼年体的二叉排序树，每个节点都比自己的左右孩子大（小）。几个重点是建堆的时候，从（ｎ／２）－１开始一个点一个点的从下往上调整（最后一个节点的倒数第二层），排序的时候交换头结点和尾节点，从上往下调整。插入的时候，插入到末尾，从下往上调整。删除的话，交换头尾节点，删除尾节点，从上往下调整。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">left</span><span class="params">(i)</span>:</span>  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>*i+<span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">right</span><span class="params">(i)</span>:</span>  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>*i+<span class="number">2</span></span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">max_heapify</span><span class="params">(A, i, heap_size)</span>:</span>  </span><br><span class="line">    <span class="keyword">if</span> heap_size &lt;= <span class="number">0</span>:  </span><br><span class="line">        <span class="keyword">return</span>   </span><br><span class="line">    l = left(i)  </span><br><span class="line">    r = right(i)  </span><br><span class="line">    <span class="keyword">print</span> i,l,r</span><br><span class="line">    <span class="keyword">if</span> l&gt;=heap_size: </span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    largest = i </span><br><span class="line">  <span class="comment">#  print i</span></span><br><span class="line">    <span class="keyword">if</span> A[l]&gt;A[largest]:  </span><br><span class="line">        largest = l  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> r&lt;heap_size <span class="keyword">and</span> A[r]&gt;A[largest]:  </span><br><span class="line">        largest = r  </span><br><span class="line">    <span class="keyword">print</span> largest</span><br><span class="line">    <span class="keyword">if</span> i != largest : </span><br><span class="line">        A[i], A[largest] = A[largest], A[i]  </span><br><span class="line">        max_heapify(A, largest, heap_size)</span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bulid_max_heap</span><span class="params">(A)</span>:</span>  </span><br><span class="line">    heap_size = len(A)  </span><br><span class="line">    <span class="keyword">if</span> heap_size &gt;<span class="number">1</span>:  </span><br><span class="line">        node = (heap_size)/<span class="number">2</span> <span class="number">-1</span></span><br><span class="line">        <span class="keyword">while</span> node &gt;= <span class="number">0</span>:  </span><br><span class="line">           max_heapify(A, node, heap_size)  </span><br><span class="line">           node -=<span class="number">1</span>  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sort_heap</span><span class="params">(A)</span>:</span></span><br><span class="line">    bulid_max_heap(A)</span><br><span class="line">    <span class="keyword">print</span> A</span><br><span class="line">    nosort_len = len(A)</span><br><span class="line">    <span class="keyword">while</span>(nosort_len&gt;<span class="number">0</span>):</span><br><span class="line">        A[<span class="number">0</span>],A[nosort_len<span class="number">-1</span>] = A[nosort_len<span class="number">-1</span>],A[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">print</span> A</span><br><span class="line">        nosort_len -= <span class="number">1</span></span><br><span class="line">        max_heapify(A,<span class="number">0</span>,nosort_len)</span><br><span class="line">        <span class="keyword">print</span> A</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span> :  </span><br><span class="line">   </span><br><span class="line">    A = [<span class="number">10</span>, <span class="number">-3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>]</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'Before sort:'</span>,A  </span><br><span class="line">    sort_heap(A) </span><br><span class="line">    <span class="keyword">print</span> <span class="string">'After sort:'</span>,A</span><br></pre></td></tr></table></figure></p>
<h2 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h2><p><code>不稳定，时间复杂度 最理想 O(nlogn)最差时间O(n^2)</code><br>　　也是分治的思想。选取第一位为中间数，把左边放小于等于它的，右边放大于它的，然后递归。这里注意，必须要从右边开始，因为如果从左边开始的话，停下来的时候必然是左右相遇，因为左边先动，所以停下来的时候肯定是大于第一位数的值，此时交换会使得最左边的数大于中间数，排序出错。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quicksort</span><span class="params">(array)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">recursive</span><span class="params">(begin, end)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> begin&gt;end:</span><br><span class="line">            <span class="keyword">return</span> </span><br><span class="line">        l,r = begin,end</span><br><span class="line">        x = array[l]</span><br><span class="line">        <span class="keyword">while</span> l &lt; r:</span><br><span class="line">            <span class="keyword">while</span> l &lt; r <span class="keyword">and</span> array[r] &gt; x:</span><br><span class="line">                r -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> l &lt; r <span class="keyword">and</span> array[l] &lt;= x:</span><br><span class="line">                l += <span class="number">1</span></span><br><span class="line">            array[l],array[r]=array[r],array[l]</span><br><span class="line">        array[l],array[begin] = x,array[l]</span><br><span class="line">        <span class="keyword">print</span> begin,end,A</span><br><span class="line">        recursive(begin,l<span class="number">-1</span>)</span><br><span class="line">        recursive(r+<span class="number">1</span>,end)</span><br><span class="line"></span><br><span class="line">    recursive(<span class="number">0</span>, len(array) - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span> :  </span><br><span class="line">   </span><br><span class="line">    A = [<span class="number">10</span>, <span class="number">-3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">7</span>]</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'Before sort:'</span>,A  </span><br><span class="line">    quicksort(A) </span><br><span class="line">    <span class="keyword">print</span> <span class="string">'After sort:'</span>,A</span><br></pre></td></tr></table></figure></p>
<h2 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h2><p>　　<code>稳定，时间复杂度Ｏ(n^2)</code><br>　　插入排序的基本操作就是将一个数据插入到已经排好序的有序数据中，从而得到一个新的、个数加一的有序数据，算法适用于少量数据的排序，时间复杂度为O(n^2)。是稳定的排序方法。插入算法把要排序的数组分成两部分：第一部分包含了这个数组的所有元素，但将最后一个元素除外（让数组多一个空间才有插入的位置），而第二部分就只包含这一个元素（即待插入元素）。在第一部分排序完成后，再将这个最后元素插入到已排好序的第一部分中。尽量用一个数组空间，而且还简单。　　<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_sort</span><span class="params">(A)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,len(A)):</span><br><span class="line">        <span class="keyword">print</span> A</span><br><span class="line">        key = A[i]</span><br><span class="line">        j = i <span class="number">-1</span></span><br><span class="line">        <span class="keyword">while</span> j&gt;=<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> A[j]&gt;key:</span><br><span class="line">                A[j+<span class="number">1</span>] = A[j]</span><br><span class="line">                j = j <span class="number">-1</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        A[j+<span class="number">1</span>] = key</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.gyxiaoh.com/2018/04/09/初级动态三连/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="GYxiaOH">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小 君">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/09/初级动态三连/" itemprop="url">动归初级三连</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-09T23:37:00+08:00">
                2018-04-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/刷题/" itemprop="url" rel="index">
                    <span itemprop="name">刷题</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/04/09/初级动态三连/" class="leancloud_visitors" data-flag-title="动归初级三连">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="动归初级三连"><a href="#动归初级三连" class="headerlink" title="动归初级三连"></a>动归初级三连</h1><h2 id="上楼梯"><a href="#上楼梯" class="headerlink" title="上楼梯"></a>上楼梯</h2><pre><code>你正在爬楼梯。需要 n 步你才能到达顶部。
每次你可以爬 1 或 2 个台阶。你有多少种不同的方式可以爬到楼顶呢？
</code></pre><p>　　最简单的动归题目了，可以有三种方法，最近在知乎上看到一篇超棒的帖子将简单动归，<a href="https://zhuanlan.zhihu.com/p/31628866" target="_blank" rel="noopener">漫画：什么是动态规划？</a><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">climbStairs</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type n: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">2</span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">        a = <span class="number">1</span></span><br><span class="line">        b = <span class="number">2</span></span><br><span class="line">        temp = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>,n):</span><br><span class="line">            temp =a + b</span><br><span class="line">            a,b = b,temp</span><br><span class="line">        <span class="keyword">return</span> temp</span><br></pre></td></tr></table></figure></p>
<h2 id="买卖股票的最佳时机１"><a href="#买卖股票的最佳时机１" class="headerlink" title="买卖股票的最佳时机１"></a>买卖股票的最佳时机１</h2><pre><code>假设你有一个数组，其中第 i 个元素是一支给定股票第 i 天的价格。
如果您只能完成最多一笔交易（即买入和卖出一股股票），则设计一个算法来找到最大的利润。  
</code></pre><p>　　先求隔天的收益差，然后就是最大子序列和问题，具体可以看下面一道问题，这里也有很好的解释<a href="https://blog.csdn.net/chenvast/article/details/78950392" target="_blank" rel="noopener">动态规划算法—买卖股票的最佳时机系列(1-4)</a>。注意这里求的是最高收益，因此边界？条件是小与０就可以重新计算收益了。　　<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span><span class="params">(self, prices)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type prices: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        temp = <span class="number">0</span></span><br><span class="line">        imax = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(prices)<span class="number">-1</span>):</span><br><span class="line">            d = prices[i+<span class="number">1</span>]-prices[i]</span><br><span class="line">            <span class="keyword">if</span> (temp+d&gt;<span class="number">0</span>):</span><br><span class="line">                temp += d</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                temp = <span class="number">0</span></span><br><span class="line">            imax = max(temp,imax)</span><br><span class="line">        <span class="keyword">return</span> imax</span><br></pre></td></tr></table></figure></p>
<h2 id="最大子序和"><a href="#最大子序和" class="headerlink" title="最大子序和"></a>最大子序和</h2><pre><code>给定一个序列（至少含有 1 个数），从该序列中寻找一个连续的子序列，使得子序列的和最大。
例如，给定序列 [-2,1,-3,4,-1,2,1,-5,4]，
连续子序列 [4,-1,2,1] 的和最大，为 6。
扩展练习:
若你已实现复杂度为 O(n) 的解法，尝试使用更为精妙的分治法求解。  
</code></pre><p> 　　和上题一样，直接的子序和问题，这里有篇博客从最简单的三重循环到分治到动归都讲的很详细<a href="https://www.cnblogs.com/conw/p/5896155.html" target="_blank" rel="noopener">经典算法问题 - 最大连续子数列和</a>。注意这里考虑的动归转移是考虑的以n为结尾的子序列的最大和，而不是第n个数的最大子序列和。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxSubArray</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        imax = nums[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,len(nums)):</span><br><span class="line">            <span class="keyword">if</span> (nums[i<span class="number">-1</span>]&gt;<span class="number">0</span>):</span><br><span class="line">                nums[i] += nums[i<span class="number">-1</span>]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                nums[i] += <span class="number">0</span></span><br><span class="line">            imax = max(nums[i],imax)</span><br><span class="line">        <span class="keyword">return</span> imax</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.gyxiaoh.com/2018/04/07/Gitpage-Hexo搭建个人博客（三）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="GYxiaOH">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小 君">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/07/Gitpage-Hexo搭建个人博客（三）/" itemprop="url">Gitpage + Hexo搭建个人博客（三）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-07T17:08:00+08:00">
                2018-04-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/博客搭建/" itemprop="url" rel="index">
                    <span itemprop="name">博客搭建</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/04/07/Gitpage-Hexo搭建个人博客（三）/" class="leancloud_visitors" data-flag-title="Gitpage + Hexo搭建个人博客（三）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Gitpage-Hexo搭建个人博客（三）"><a href="#Gitpage-Hexo搭建个人博客（三）" class="headerlink" title="Gitpage + Hexo搭建个人博客（三）"></a>Gitpage + Hexo搭建个人博客（三）</h1><p>　　这里第三篇博客应该就是终极篇了，主要介绍一些使用的小技巧和一些无关外观的优化大概的内容有：  </p>
<ul>
<li>同时在github以及coding部署博客</li>
<li>Seo优化  </li>
<li>写作的一些小trick</li>
</ul>
<h2 id="1-同时在github以及coding部署博客"><a href="#1-同时在github以及coding部署博客" class="headerlink" title="1. 同时在github以及coding部署博客"></a>1. 同时在github以及coding部署博客</h2><p>　　做这个工作主要是因为github有时在国内访问太慢，所以希望国内的时候访问的是coding的服务器，但是要完成同一个域名访问两个不同的服务器，你需要有自己的域名，并且有分区解析的功能（阿里云，腾讯云都有），因此如果你没有这个需求，这个部分并没有什么看的必要，当然你也可以把你的博客移植到coding上，抛弃本来只在传说中存在的国外访客（滑稽）。  </p>
<h3 id="1-1-在coding上部署"><a href="#1-1-在coding上部署" class="headerlink" title="1.1 在coding上部署"></a>1.1 在coding上部署</h3><p>　　在coding上部署与在github上部署如出一辙，不过我们得先生存SSH秘钥。 </p>
<ol>
<li>打开git bash，使用<code>ssh -T git@git.coding.net</code>命令生成SSH 秘钥</li>
<li>输入<code>cat ~/.ssh/id_rsa.pub</code>，在命令行中会显示出你的SSM秘钥，复制<br>　　之后我们在coding上注册账号(最好与github一致），并且绑定手机或者邮箱（注意，绑定后才能提交ssh公钥，开始我找了很久）。之后：  </li>
<li>创建项目，设置为公开，项目名称和用户名与github保持一致</li>
<li>点击左上角小猴子，进入账户页面</li>
<li>打开SSH公钥，将刚才复制的内容提交上去  </li>
<li>打开新建的项目，复制右上角的HTTPS信息</li>
<li>打开HEXO配置文件，修改如下：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">deploy:  </span><br><span class="line">	  type: git  </span><br><span class="line">	  repository: </span><br><span class="line">              github: https://github.com/GYxiaOH/GYxiaOH.github.io.git,master</span><br><span class="line">              coding: https://git.coding.net/GYxiaOH/codingpage.git,master</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>其中逗号之前是复制的信息，逗号后面是分支名，都用master就好。<br>　　设置完成重新部署hexo。部署后可以在项目中看到我们的网页文件了，之后点击pages服务，在静态中选择master分支，保存。之后就可以看到自己coding page的地址了。　　</p>
<h3 id="1-2-域名跳转"><a href="#1-2-域名跳转" class="headerlink" title="1.2 域名跳转"></a>1.2 域名跳转</h3><p>　　之后我们希望的是访问自己的域名，如果是国外的ip就跳转到github的服务器，如果是国内的ip就跳转到coding的服务器。于是乎我们先去注册一个自己的域名，国内的随便找个阿里云，腾讯云什么的，这里我用的是腾讯云。操作很简单，直接上它官网，注册，验证身份，然后查询自己想要的域名是否还在，然后注册就好。一年是28元（新手）。然后因为DNS解析需要身份审核，查你的身份证…….于是我卡在这一步了，等审核好再更新吧。<br>　　然后发现超简单。当你审核通过后，打开域名管理，在DNS解析力做如下添加：</p>
<p><img src="\\images\picture.jpg\" alt="upload successful"></p>
<p>　　ip地址和网址都不用改，然后分别在coding和github上把自己的自定义域名绑定上去，就可以直接通过域名分区优化访问了。</p>
<h2 id="2-Seo优化"><a href="#2-Seo优化" class="headerlink" title="2. Seo优化"></a>2. Seo优化</h2><p>　　比较重要的是百度和谷歌，今天没翻墙，而且百度检索的速度比谷歌慢多了所以先把百度的弄好了。其实也蛮简单的。</p>
<h3 id="百度"><a href="#百度" class="headerlink" title="百度"></a>百度</h3><p>　　首先先去<a href="http://zhanzhang.baidu.com" target="_blank" rel="noopener">百度站长平台</a>登录之后进入上方用户中心，选择站点管理，在这里验证自己的网站。一共有三种验证方式，我这里选择的是文件验证，它会给你下载一个HTML文件，你将它放入blog目录中的source目录里，当然为了避免hexo自动解析，我们打开HTML文件，在最上方添加：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<p>　　保存后重新部署网页，就可以在百度站长上看到你的网址了。　　<br>　　在这之后我们需要向百度推送我们的链接，如果你用的是next主题，可以直接把主题配置文件的<code>baidu_push</code>设置为true就够用了。不过一般的推送方法有三种，想了解的话可以参考<a href="https://blog.csdn.net/jameshadoop/article/details/53323083" target="_blank" rel="noopener">Hexo 百度提交链接</a>,这里注意下自动推送要改deploy，我也不知道它格式到底要怎么样，这里提供一种我成功的格式。  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">deploy:  </span><br><span class="line">	  type: git  </span><br><span class="line">	  repo:</span><br><span class="line">              github: url,branch</span><br><span class="line">              coding: url,branch</span><br><span class="line">type: baidu_url_submit</span><br></pre></td></tr></table></figure>
<h2 id="3-写作的一些小trick"><a href="#3-写作的一些小trick" class="headerlink" title="3. 写作的一些小trick"></a>3. 写作的一些小trick</h2><h3 id="在线markdown以及hexo-admin"><a href="#在线markdown以及hexo-admin" class="headerlink" title="在线markdown以及hexo-admin"></a>在线markdown以及hexo-admin</h3><h3 id="在文章结束后加入结束标记"><a href="#在文章结束后加入结束标记" class="headerlink" title="在文章结束后加入结束标记"></a>在文章结束后加入结束标记</h3><p>　　在每篇文章后加入感谢阅读，之后就可以不要脸的在把打赏二维码放上去啦！先礼后兵嘛（滑稽）。操作如下：</p>
<ol>
<li><p>在路径<code>D:\blog\themes\next\layout\_macro</code>下创建<code>passage-end-tag.swig</code>文件，输入以下代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if not is_index %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;color: #969696;font-size:18px;"</span>&gt;</span>-------------本文结束<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-paw"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>感谢您的阅读-------------<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>打开<code>D:\blog\themes\next\layout\_macro\post.swig</code>,在<code>&lt;footer class=&quot;post-footer&quot;&gt;</code>之前加入以下代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  &#123;% if not is_index %&#125;</span><br><span class="line">  &#123;% include 'passage-end-tag.swig' %&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>打开主题配置文件，添加以下代码：  </p>
<pre><code>#文章末尾添加“本文结束”标记
passage_end_tag:
enabled: true
</code></pre></li>
</ol>
<p>　　完成后重新部署，每篇文章后便会自动添加结束标记啦。　　</p>
<h3 id="添加打赏二维码"><a href="#添加打赏二维码" class="headerlink" title="添加打赏二维码"></a>添加打赏二维码</h3>
          
        
      
    </div>
    
    
    

    

    

    

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.gyxiaoh.com/2018/04/05/Anaconda多环境-远程jupyter/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="GYxiaOH">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小 君">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/05/Anaconda多环境-远程jupyter/" itemprop="url">Anaconda多环境+远程jupyter</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-05T10:30:12+08:00">
                2018-04-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2018/04/05/Anaconda多环境-远程jupyter/" class="leancloud_visitors" data-flag-title="Anaconda多环境+远程jupyter">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Anaconda多环境-远程jupyter"><a href="#Anaconda多环境-远程jupyter" class="headerlink" title="Anaconda多环境+远程jupyter"></a>Anaconda多环境+远程jupyter</h1><h2 id="1-Anaconda多环境"><a href="#1-Anaconda多环境" class="headerlink" title="1.Anaconda多环境"></a>1.Anaconda多环境</h2><p>　　最近在服务器上安装tensorflow,因为Python2和Python3都要体验一下，因此需要一个管理Python环境的好办法，Anaconda就是一个非常好的管理工具，并且可以在服务器上单用户管理自己的环境，操作十分简单。  </p>
<ol>
<li>首先在服务器上下载Anaconda，我这里下载的是3，理论上讲2也完全可以。上传到服务器上利用<code>bash xxxx.sh</code>安装。</li>
<li>将Anaconda目录加载进用户环境。利用<code>vim ~/.bashrc</code>打开环境变量文件，在最后加上<code>export PATH=你的anaconda目录/bin:$PATH</code>，保存退出后用<code>source ~/.bashrc</code>命令加载环境变量，成功后使用<code>conda-V</code>查看版本信息，如果出现版本号则安装成功。  </li>
<li>成功后用<code>conda create -n py3 python=3.6</code>其中-n后面是你环境的名字，同理可用<code>conda create -n py2 python=2.7</code>安装Python2.7的环境。之后利用<code>source activate py2</code>激活某种环境。</li>
<li>使用<code>source deactivate</code>退出某种环境，使用<code>conda remove -n py36 --all</code>命令删除某种环境。  </li>
</ol>
<h2 id="2-远程jupyter"><a href="#2-远程jupyter" class="headerlink" title="2.远程jupyter"></a>2.远程jupyter</h2><p>　　从caffe转向tensorflow之后终于感觉自己像个程序员而不是个炼丹师了……总之感觉Python最有用的一个‘插件’就是jupyter，这里介绍下在本机远程使用服务器jupyter的方法。  </p>
<ol>
<li><code>pip3 install jupyter</code>命令安装jupyter。</li>
<li><code>jupyter notebook --generate-config</code>命令生成配置文件。</li>
<li>输入<code>Python</code>进入python。输入以下命令<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from notebook.auth import passwd  </span><br><span class="line">passwd()</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>设定你的密码，然后会生成类似<code>sha1:67c9e60bb8b6:9ffede0825894254b2e042ea597d771089e11aed</code>这样的秘钥。</p>
<ol>
<li><p><code>vim ~/.jupyter/jupyter_notebook_config.py</code>打开配置文件修改以下几行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c.NotebookApp.ip=&apos;*&apos;                       # 就是设置所有ip皆可访问 </span><br><span class="line">c.NotebookApp.password = u&apos;sha:ce...       # 刚才复制的那个密文&apos;  </span><br><span class="line">c.NotebookApp.open_browser = False         # 禁止自动打开浏览器  </span><br><span class="line">c.NotebookApp.port =8888                   # 随便指定一个端口</span><br></pre></td></tr></table></figure>
</li>
<li><p>在服务器端启动 jupyter notebook</p>
</li>
<li>本地地址栏输入服务器ip:8888 输入密码，便可以成功使用了  </li>
</ol>
<p>　　理论上用nohub命令长期挂起让你即使退出账号也可以使用jupyter。但是不知道为啥我只有用sudo有nohub命令，用nohub找不到命令？不知道那个大神能解答下。<br>　　另外我使用jupyter参考tensorflow/example做了个简单的VAE网络，加了些自己的注释，有兴趣可以等我github更新。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.gyxiaoh.com/2018/03/31/Gitpage-Hexo搭建个人博客（二）-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="GYxiaOH">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小 君">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/31/Gitpage-Hexo搭建个人博客（二）-1/" itemprop="url">Gitpage + Hexo搭建个人博客（二）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-31T11:15:00+08:00">
                2018-03-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/博客搭建/" itemprop="url" rel="index">
                    <span itemprop="name">博客搭建</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/03/31/Gitpage-Hexo搭建个人博客（二）-1/" class="leancloud_visitors" data-flag-title="Gitpage + Hexo搭建个人博客（二）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Gitpage-Hexo搭建个人博客（二）"><a href="#Gitpage-Hexo搭建个人博客（二）" class="headerlink" title="Gitpage + Hexo搭建个人博客（二）"></a>Gitpage + Hexo搭建个人博客（二）</h1><h2 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1.　介绍"></a>1.　介绍</h2><p>　　时隔一周…….终于又抽出了时间补完博客搭建的文章，不得不说，赶论文和找实习是真的忙。这几天应该会两到三更吧，不更完实在不舒服，过两天又不知道有没有时间了，赶紧把这些琐事搞定。<br> 　　在这一章里，我们主要对Next进行一些外观上的美化，已经一些第三方插件的应用。因为大部分其他博主写的已经十分详细了，我就贴上链接附上一些简答的补充。总之，看完本篇文章你将学会以下<strong>技能</strong>:</p>
<blockquote>
<ul>
<li>Next外观美化</li>
<li>评论，统计等第三方插件开启  </li>
</ul>
</blockquote>
<p>　　当完成本篇博文所做的工作后，博客可以说已经完成了。当然，可能在后续的文章里我还会做一些其他的补充，比如优雅发文，百度搜索，部署码云？之类的，不过那都是后话了</p>
<h2 id="2-Next外观美化"><a href="#2-Next外观美化" class="headerlink" title="2.Next外观美化"></a>2.Next外观美化</h2><p>   本节主要对主题外观进行了一些修饰，让博客看起更加花里胡哨一点（滑稽）。  </p>
<h3 id="Next主题设置"><a href="#Next主题设置" class="headerlink" title="Next主题设置"></a>Next主题设置</h3><p>　　俗话说得好，寻龙千万看缠山，一重缠是一重关。Next主题下面又有四个小主题可以选，我觉得都挺漂亮，本人用的是gemini，这里推荐一个其他主题的博主，<a href="https://notes.wanghao.work/" target="_blank" rel="noopener">Doublemine</a>，真的好看，我这张博客的脸基本就照他整的。具体<strong>步骤如下</strong>：</p>
<ol>
<li>打开 D:\blog\themes\next_config.yml<br>　　然后，你就成功拥有了自己的网页，怎么样，酷不酷！如果想测试以下的话，可用如下方法，因为我是windows，git有GUI界面，我觉得挺好用的，如果你是命令行git的话，可以参考刚才的<a href="https://pages.github.com/" target="_blank" rel="noopener">Gitpage</a>官网。</li>
<li>找到 Scheme Settings</li>
<li>修改如下本地项目文件夹中新建index.html文件，并加入以下代码<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Schemes</span><br><span class="line">#scheme: Muse</span><br><span class="line">#scheme: Mist</span><br><span class="line">#scheme: Pisces</span><br><span class="line">scheme: Gemini</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>　　同样可以在部署后通过，hexo s查看效果。  </p>
<h3 id="跟换头像，圆形头像，以及头像旋转"><a href="#跟换头像，圆形头像，以及头像旋转" class="headerlink" title="跟换头像，圆形头像，以及头像旋转"></a>跟换头像，圆形头像，以及头像旋转</h3><p>　　更换头像也是在设置文件里，不过这节大部分都是在主题的设置文件中，也就是D:\blog\themes\next_config.yml。<br>　　<strong>更改头像</strong>　　</p>
<p>　　在配置文件中找到Sidebar Avatar</p>
<ul>
<li>修改如下：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Sidebar Avatar</span><br><span class="line"># in theme directory(source/images): /images/avatar.gif</span><br><span class="line"># in site  directory(source/uploads): /uploads/avatar.gif</span><br><span class="line">avatar: /images/face.jpg</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>　　其中face.jpg放在D:\blog\themes\next\source\images目录下。当然你也可以直接贴在线地址。　　</p>
<p>　　<strong>圆形头像以及图像旋转</strong>  </p>
<p>　　找到D:\blog\themes\next\source\css_common\components\sidebar下的sidebar-author.styl文件</p>
<ul>
<li>修改如下：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">.site-author-image &#123;</span><br><span class="line">  border: 0 !important;</span><br><span class="line">  display: block;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">  padding: $site-author-image-padding;</span><br><span class="line">  max-width: $site-author-image-width;</span><br><span class="line">  height: $site-author-image-height;</span><br><span class="line">  border: $site-author-image-border-width solid $site-author-image-border-color;</span><br><span class="line">  border-radius: 50%</span><br><span class="line">  opacity: 0.6;</span><br><span class="line">  /* start*/</span><br><span class="line">  webkit-transition: 1.4s all;</span><br><span class="line">  moz-transition: 1.4s all;</span><br><span class="line">  ms-transition: 1.4s all;</span><br><span class="line">  transition: 1.4s all;</span><br><span class="line">  /* end */</span><br><span class="line">&#125;</span><br><span class="line">/* start */</span><br><span class="line">.site-author-image:hover &#123;</span><br><span class="line">    -webkit-transform: rotate(360deg);</span><br><span class="line">    -moz-transform: rotate(360deg);</span><br><span class="line">    -ms-transform: rotate(360deg);</span><br><span class="line">    -transform: rotate(360deg);</span><br><span class="line">/* end */</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>　　其中opacity是调整透明度的，可以酌情使用。图像周围会有个边界，我把它去掉了，就是第一句border，想要框的话可以把它去掉。start里面的部分都是和旋转有关，如果想要旋转后放大这种更加花里胡哨的效果，可在rotate后面加scale属性。要是不想要旋转的话直接把start到end部分删除即可。  </p>
<h3 id="菜单栏添加"><a href="#菜单栏添加" class="headerlink" title="菜单栏添加   　　"></a>菜单栏添加   　　</h3><p> 　　初始的博客界面，左侧的菜单栏里只有两三项项目，我们当然会有自己添加页面的需求，这里以最简单的标签和分类作为例子。增加菜单页面步骤如下<strong>步骤如下</strong>：</p>
<ol>
<li><p>建立新的页面</p>
<ul>
<li>在blog目录下打开gitbash</li>
<li>输入<code>hexo new page xxx</code></li>
<li>如分类，我们输入<code>hexo new page categories</code></li>
</ul>
</li>
<li><p>在配置文件中配置</p>
<ul>
<li>打开 D:\blog\themes\next_config.yml</li>
<li>找到并做如下修改<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  about: /about/ || user</span><br><span class="line">  tags: /tags/ || tags</span><br><span class="line">  categories: /categories/ || th</span><br><span class="line">  archives: /archives/ || archive</span><br><span class="line">  #schedule: /schedule/ || calendar</span><br><span class="line">  #sitemap: /sitemap.xml || sitemap</span><br><span class="line">  #commonweal: /404/ || heartbeat</span><br><span class="line">  # Enable/Disable menu icons.</span><br><span class="line">  menu_icons:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<ul>
<li>||线后为菜单图标，具体可在<a href="https://link.jianshu.com/?t=http://fontawesome.io/icons/" target="_blank" rel="noopener">Font Awesom</a> 中查看</li>
</ul>
<ol>
<li>设置对应中文<ul>
<li>打开 D:\blog\themes\next\languages\zh-Hans.yml</li>
<li>找到并做如下修改<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line"> home: 首页</span><br><span class="line"> archives: 归档</span><br><span class="line"> categories: 分类</span><br><span class="line"> tags: 标签</span><br><span class="line"> about: 关于</span><br><span class="line"> search: 搜索</span><br><span class="line"> schedule: 日程表</span><br><span class="line"> sitemap: 站点地图</span><br><span class="line"> commonweal: 公益404</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ol>
<h3 id="侧边栏链接分享"><a href="#侧边栏链接分享" class="headerlink" title="侧边栏链接分享"></a>侧边栏链接分享</h3><p> 　　同样是在配置文件D:\blog\themes\next_config.yml里，找到social后自行添加，操作和上面差不多，||后是图标。</p>
<h3 id="去除底部logo"><a href="#去除底部logo" class="headerlink" title="去除底部logo　　"></a>去除底部logo　　</h3><p> 　　初始的博客界面底下有Hexo和Next的信息，感觉和违和，参考<a href="https://www.jianshu.com/p/4fbc57269f1b" target="_blank" rel="noopener">Hexo-Next底部powered by的logo栏更改以及注意事项</a>  </p>
<h3 id="透明化"><a href="#透明化" class="headerlink" title="透明化"></a>透明化</h3><p> 　　透明是男人的浪漫！啊呸．．．．．．其实如果你和我一样对艺术和美一无所知的话，只需要将界面透明，你的页面就会出现一种奇特的美感。<br>　　具体的步骤有大佬写的很详细了，可参考<a href="https://simi.fun/2018/01/31/next%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE%E9%80%8F%E6%98%8E%E8%89%B2%E7%AD%89/" target="_blank" rel="noopener">next主题配置透明色等</a>。如果有其他的地方要透明，推荐下这个文件D:\blog\themes\next\source\css_custom\custom.styl，估计是在CSS里把权值设置到最高了，在这里改的CSS效果都是可以直接作用在页面上的。以下我进行的一些修改，如果有疑问可以评论问我。</p>
<ul>
<li>修改如下：<pre><code>// Custom styles.
@font-face {
  font-family: simi;
  src: url(&apos;/fonts/simi.otf&apos;);
}
.site-title {
  font-size: 20px !important;
  font-family: &apos;simi&apos; !important;
}
.highlight {
   background-color: rgba(247,247,247,0.1); 
}
pre, .highlight {
  background-color: rgba(247,247,247,0.1); 
}
.highlight .code pre{
      background-color: rgba(247,247,247,0.1); 
}
.highlight tr{
  background-color: rgba(247,247,247,0.1) !important; 
}
.links-of-author {
  padding-left:15px
}
.links-of-author-item a {
  color:rgba(85,85,85,0.8)
}
</code></pre></li>
</ul>
<p> 　　至此，外观修改介绍结束，如果有遗漏或者添加会在更新中继续介绍。最后再次感谢各位大佬的博文，给了我很大的帮助，感谢！这里在推荐三个大佬的博文<a href="https://www.jianshu.com/p/3ff20be8574c" target="_blank" rel="noopener">Hexo-Next-主题优化(一)</a>，<a href="http://shenzekun.cn/hexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B.html" target="_blank" rel="noopener">hexo的next主题个性化教程:打造炫酷网站</a>，<a href="https://blog.csdn.net/kunkun5love/article/details/79403176" target="_blank" rel="noopener">Hexo 个性化配置(三)</a>。里面可能会找到你想要我却没有提到的技术供你参考。</p>
<h2 id="3-第三方插件"><a href="#3-第三方插件" class="headerlink" title="3.第三方插件"></a>3.第三方插件</h2><p>　　当然，Next支持许多插件来丰富网页功能，这里介绍几个我目前在用的，估计下一篇会更新几个，因为看到几个很有意思的。几个好用基本的都可以在<a href="http://theme-next.iissnan.com/third-party-services.html" target="_blank" rel="noopener">官方文档</a>中查看到。<br>　　<strong>卜算子</strong>　　</p>
<p>　　页面最底下的访问人数和次数统计。依旧在配置文件中。  </p>
<ul>
<li>打开D:\blog\themes\next_config.yml，修改如下：<pre><code># Show PV/UV of the website/page with busuanzi.
# Get more information on http://ibruce.info/2015/04/04/busuanzi/
busuanzi_count:
# count values only if the other configs are false
enable: true
# custom uv span for the whole site
site_uv: true
site_uv_header: &lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt;Visitors
site_uv_footer:
# custom pv span for the whole site
site_pv: true
site_pv_header: &lt;i class=&quot;fa fa-eye&quot;&gt;&lt;/i&gt;Total
site_pv_footer:
# custom pv span for one page only
page_pv: false
page_pv_header: &lt;i class=&quot;fa fa-file-o&quot;&gt;&lt;/i&gt;View
page_pv_footer: 
</code></pre></li>
</ul>
<p>　　<strong>LeanCloud</strong>　　</p>
<p>　　每篇文章的阅读统计。参考<a href="https://notes.wanghao.work/2015-10-21-%E4%B8%BANexT%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%96%87%E7%AB%A0%E9%98%85%E8%AF%BB%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%8A%9F%E8%83%BD.html#%E9%85%8D%E7%BD%AELeanCloud" target="_blank" rel="noopener">为NexT主题添加文章阅读量统计功能</a>。　　  </p>
<p>　　<strong>评论系统</strong>　　</p>
<p> 　　我用的是来必力，因为感觉支持的最多，但是感觉好像有点卡，最近在找替代品。参考<a href="https://blog.csdn.net/qwerty200696/article/details/78836421" target="_blank" rel="noopener">hexo博客优化之实现来必力评论功能</a>。  </p>
<p>   <strong>Daovoice在线聊天系统</strong>　　</p>
<p> 　　参考<a href="https://asdfv1929.github.io/2018/01/21/daovoice/" target="_blank" rel="noopener">Hexo NexT主题内接入网页在线联系功能</a>。还在思考自己的CSS样式怎么覆盖它。</p>
<hr>
<p> 　<br>　　至此，大致的博客网站已经搭建好了，基本的功能和外观我觉得都算完善了，剩下的可能就是添加些小功能修修补补了。当然本篇博文会继续更新并继续分享我搭建博客所做的工作，希望这篇文章对你有所帮助！　继续学习去啦～</p>

          
        
      
    </div>
    
    
    

    

    

    

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.gyxiaoh.com/2018/03/25/My-First-Post/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="GYxiaOH">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/face.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小 君">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/25/My-First-Post/" itemprop="url">Gitpage + Hexo搭建个人博客（一）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-25T13:32:00+08:00">
                2018-03-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/博客搭建/" itemprop="url" rel="index">
                    <span itemprop="name">博客搭建</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2018/03/25/My-First-Post/" class="leancloud_visitors" data-flag-title="Gitpage + Hexo搭建个人博客（一）">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Gitpage-Hexo搭建个人博客（一）"><a href="#Gitpage-Hexo搭建个人博客（一）" class="headerlink" title="Gitpage + Hexo搭建个人博客（一）"></a>Gitpage + Hexo搭建个人博客（一）</h1><h2 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1.　介绍"></a>1.　介绍</h2><p>　　昨天周日，作为一周唯一的休息日，虽然背负着论文的任务，但是因为实验跑的时候无事可干（其实是不想干），忙里偷闲的想着搭个博客记录下最近刷的题和学习TensorFlow的一些心得（caffe实在是……）。好了废话不说，其实搭建博客听起来高大上，其实大部分框架都做好了，无非是一些安装，设置和小的样式调整，只是因为具体优化过程很杂，你可能要打开一堆网页查询（我同时打开了30多个网页），因此写下这篇文章，希望看官能够一页搞定大部分的东西，不用那么麻烦。那么因为我是边搭建边写，本篇博文包含了最为基础的东西，看完你将学会以下<strong>技能</strong>:</p>
<blockquote>
<ul>
<li>如何申请一个Gitpage</li>
<li>使用Hexo + Next主题构建页面</li>
<li>将本地博客部署到Gitpage上  </li>
</ul>
</blockquote>
<p>　　当完成本篇博文所做的工作后，你将能自己打造一个还算能看的过去的博客。至于后面一些主题优化，还有什么允许搜索的将在下一篇博文中介绍。</p>
<h2 id="2-Gitpage"><a href="#2-Gitpage" class="headerlink" title="2.Gitpage"></a>2.Gitpage</h2><p> 　　本节参考 <a href="https://ryanluoxu.github.io/2017/11/24/%E7%94%A8-Hexo-%E5%92%8C-GitHub-Pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/" target="_blank" rel="noopener">猎日 - 用 Hexo 和 GitHub Pages 搭建博客</a>，其实本篇博文博主已经写的很不错了，我基本就是按照他的方法搭建的，只是有些小细节可能要注意下。<br>   Gitpage究竟是什么你可以不用管，把他当成一个可以托管并显示你的静态网页的服务器就好。如何创建Gitpage其实在官网介绍已经写的很清楚<a href="https://pages.github.com/" target="_blank" rel="noopener">Gitpage</a>。<strong>步骤如下</strong>：</p>
<ol>
<li>注册 Github 账号，然后在 Github 中创建一个以username.github.io结尾的 Repository，其中username是你名字。<br>　　然后，你就成功拥有了自己的网页，怎么样，酷不酷！如果想测试以下的话，可用如下方法，因为我是windows，git有GUI界面，我觉得挺好用的，如果你是命令行git的话，可以参考刚才的<a href="https://pages.github.com/" target="_blank" rel="noopener">Gitpage</a>官网。</li>
<li>打开git for windows进入刚才username.github.io的Repository，点击Set up in Desktop，然后会将项目clone到本地。</li>
<li><p>在本地项目文件夹中新建index.html文件，并加入以下代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>I'm hosted with GitHub Pages.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>打开git for windows commit and publish一下。<br>　　<br>然后就可以在浏览器中通过<a href="https://username.github.io" target="_blank" rel="noopener">https://username.github.io</a> 直接访问你的网页了。  </p>
</li>
</ol>
<h2 id="3-Hexo"><a href="#3-Hexo" class="headerlink" title="3.Hexo"></a>3.Hexo</h2><p>　　很多人对搭建网页博客望而却步，都可能是因为感觉写网页写前端没学过，根本不会，实际上大部分的工作现在的框架都给你做好了，你只需要傻瓜式的调用就行了。目前我所知道的Gitpage上的博客主要用的是jekyll和Hexo框架。本博客使用的是Hexo，至于为什么可以参考<a href="https://wordzzzz.github.io/2018/01/10/HEXO/" target="_blank" rel="noopener">我的个人博客之旅：从jekyll到hexo</a>。总之，Hexo搭建好后可以很傻瓜式的部署你的网页。搭建的步骤官网都很清楚，这里写个简单版的，还是主要参考了<a href="https://ryanluoxu.github.io/2017/11/24/%E7%94%A8-Hexo-%E5%92%8C-GitHub-Pages-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/" target="_blank" rel="noopener">猎日 - 用 Hexo 和 GitHub Pages 搭建博客</a>：  </p>
<ol>
<li><p>安装 Node.js</p>
<ul>
<li>前往 <a href="https://nodejs.org/en/" target="_blank" rel="noopener">https://nodejs.org/en/</a> 随便下载一个</li>
<li>点击 8.9.1 LTS 下载安装</li>
<li>打开 Command Prompt， 输入 <code>node -v</code></li>
<li><p>得到版本号 </p>
<p>安装成功</p>
</li>
</ul>
</li>
<li><p>安装 Git</p>
<ul>
<li>前往 <a href="https://git-scm.com/" target="_blank" rel="noopener">https://git-scm.com/</a></li>
<li>点击 Downloads,点击 Windows,下载安装</li>
<li>打开 Command Prompt， 输入 <code>git --version</code> </li>
<li><p>得到版本号 </p>
<p>安装成功</p>
</li>
</ul>
</li>
<li>安装 Hexo<ul>
<li>打开 Command Prompt，输入 <code>npm install -g hexo-cli</code></li>
<li>输入 hexo -v</li>
<li>得到版本号</li>
</ul>
</li>
</ol>
<p>　　安装成功，至此该安装的东西我们都安装完了，生下来就可以本地部署看看Hexo的效果了。这里有个小坑，因为接下来我们要用Git Bash，但是在CMD里安装的环境不会自动配置到系统变量里，所以需要手动配置一下。具体来说就是把C:\Users\username\AppData\Roaming\npm　C:\Users\lenovo\AppData\Roaming\npm\node_modules\hexo-cli\bin<br>    添加到系统环境变量里</p>
<ol>
<li><p>部署本地博客</p>
<ul>
<li>在任意盘下创建自己的博客文件夹（我是d:\blog） </li>
<li>鼠标右键 blog，选择 Git Bash Here。 如果没有安装 Git，就不会有这个选项。</li>
<li>Git Bash 打开之后，所在的位置就是 blog 这个文件夹的位置（/d/blog）</li>
<li>输入 <code>hexo init</code> 将 blog 文件夹初始化成一个博客文件夹</li>
<li>输入 <code>npm install</code> 安装依赖包。</li>
<li>输入 <code>hexo g</code> 生成（generate）待发布网页。 </li>
<li>输入 <code>hexo s</code> 将生成的网页放在了本地服务器（server）。</li>
<li>浏览器里输入 <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> 。 就可以看到刚才的成果了。</li>
<li><p>按 Ctrl+C 结束。　　</p>
<p>安装成功，我们来试试发表第一篇文章。</p>
</li>
</ul>
</li>
<li>发表文章<ul>
<li>继续在 Git Bash 里，所在路径还是 /d/blog。输入 <code>hexo new &quot;My First Post&quot;</code></li>
<li>在 D:\blog\source_posts 路径下，会有一个 My-First-Post.md 的文件。 以后我们生成的文章文件基本都在这里，md里便是我们的文章内容</li>
<li>Git Bash 打开之后，所在的位置就是 blog 这个文件夹的位置（/d/blog）</li>
<li>同样输入 <code>hexo g</code> 生成（generate）待发布网页。 </li>
<li>输入 <code>hexo s</code> 将生成的网页放在了本地服务器（server）</li>
<li>进入<a href="http://localhost:4000/查看发布的文章。" target="_blank" rel="noopener">http://localhost:4000/查看发布的文章。</a></li>
<li>输按 Ctrl+C 结束。</li>
</ul>
</li>
</ol>
<h2 id="4-部署"><a href="#4-部署" class="headerlink" title="4.部署"></a>4.部署</h2><p>　　现在我们已经有了本地的Hexo的博客文件和Gitpage，现在只需要将文件部署上去便可以通过网页访问了。其部署的操作也非常简单，<strong>如下：</strong>  </p>
<ol>
<li>获取Repository的链接<ul>
<li>登录github，进入刚才我们建立Gitpage的Repository</li>
<li>点击Clone or download，复制链接 </li>
</ul>
</li>
<li><p>修改blog的配置文件</p>
<ul>
<li>打开blog文件夹中的_config.yml（不要用记事本）</li>
<li>找到<code>#Deployment</code>,填入以下内容：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:  </span><br><span class="line"> type: git  </span><br><span class="line"> repository: https://github.com/Ryanluoxu/ryanluoxu.github.io.git  </span><br><span class="line"> branch: master</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>部署</p>
<ul>
<li>回到git bash</li>
<li>输入<code>npm install hexo-deployer-git --save</code></li>
<li>输入 hexo d</li>
<li>得到 <code>INFO Deploy done: git</code> 即为部署成功  </li>
</ul>
</li>
</ol>
<p>　　然后就可以在浏览器中通过<a href="https://username.github.io" target="_blank" rel="noopener">https://username.github.io</a> 看部署的效果了。在配置文件里可以修改网站的名字等一些东西，具体可以参考官方文档<a href="https://hexo.io/zh-cn/docs/configuration.html" target="_blank" rel="noopener">Hexo配置</a>，主要就是修改Site里面的一些描述。</p>
<h2 id="5-安装Next主题"><a href="#5-安装Next主题" class="headerlink" title="5.安装Next主题"></a>5.安装Next主题</h2><p>　　网页部署成功，当然你可能还是觉得原生的Hexo太丑了。所以更换主题是十分有必要的，这里可以参考<a href="https://www.zhihu.com/question/24422335/answer/46357100" target="_blank" rel="noopener">有哪些好看的 Hexo 主题？</a>选择一款你喜欢的主题安装，等完成后你就会发现你的博客有了本质上的变化。这里选用的是人气最高的Next。安装过程也十分简单，<strong>如下：</strong>  </p>
<ol>
<li>clone主题文件<ul>
<li>在git bash上输入git clone <a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="noopener">https://github.com/iissnan/hexo-theme-next</a> themes/next</li>
</ul>
</li>
<li><p>修改配置文件</p>
<ul>
<li>打开blog文件夹中的_config.yml</li>
<li>找到theme: 改为 theme:next</li>
<li>找到#url，去掉#填入你的url。如：url: <a href="https://gyxiaoh.github.io" target="_blank" rel="noopener">https://gyxiaoh.github.io</a>  </li>
</ul>
<p>修改完成后我们只需要重新部署一下即可。</p>
</li>
<li>重新部署<ul>
<li>回到git bash，输入 hexo clean</li>
<li>输入 hexo g</li>
<li>输入 hexo d　　
　</li>
</ul>
</li>
</ol>
<p>　　大功告成！当然注意下，不知道为什么我这里要连续提交两次才能部署成功，似乎是git的问题……正在研究。总之主题已经安装完成，你可以通过你的gitpage地址访问你的主页了！看看是不是基本的形态已经有了呢？如果你比较实用主义，其实现在的已经完全可以用了。但是我们这种喜欢花里胡哨的人可能还想折腾一下，如果你想看更多的美化内容，欢迎查看下一篇介绍。感谢你的观看，希望对你有所帮助。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/face.jpg"
                alt="GYxiaOH" />
            
              <p class="site-author-name" itemprop="name">GYxiaOH</p>
              <p class="site-description motion-element" itemprop="description">人世不平一剑消</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://space.bilibili.com/3334155" target="_blank" title="Bilibili">
                      
                        <i class="fa fa-fw fa-youtube-play"></i>Bilibili</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/GYxiaOH" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:zhhy1994226@163.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://weibo.com/1821212904/profile?topnav=1&wvr=6" target="_blank" title="Weibo">
                      
                        <i class="fa fa-fw fa-weibo"></i>Weibo</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">GYxiaOH</span>

  
</div>


  <div class="powered-by">fixed by 我自己</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">做个博客好辛苦，不如回家烤红薯 </div>




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>Visitors
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>Total
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  







  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("Ce6XhNEEnEkqv5BMidLlCs3l-gzGzoHsz", "zOAGhRSjtBhtu0LkRzxemw25");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

</body>
</html>
